<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::title}, ~{::main})}">

<head>
    <title>Formulaire Facture</title>
</head>

<body>
    <main>
        <div class="container">
            <h1>ðŸ“‘ Nouvelle Facture Fournisseur</h1>

            <form th:action="@{/achats/factures}" th:object="${facture}" method="post">

                <div class="form-group">
                    <label>Fournisseur:</label>
                    <select th:field="*{fournisseur}" required>
                        <option value="">-- SÃ©lectionner --</option>
                        <option th:each="fournisseur : ${fournisseurs}" th:value="${fournisseur.id}"
                            th:text="${fournisseur.raisonSociale}">Fournisseur</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Bon de Commande:</label>
                    <select th:field="*{bonCommande}" required>
                        <option value="">-- SÃ©lectionner --</option>
                        <option th:each="bc : ${bonsCommande}" th:value="${bc.id}"
                            th:text="${bc.numero + ' - ' + #numbers.formatDecimal(bc.montantTotalTtc, 1, 2) + ' â‚¬'}">
                            BC001 - 1200.00 â‚¬</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>NÂ° Facture:</label>
                    <input type="text" th:field="*{numero}" required />
                </div>

                <div class="form-group">
                    <label>Date Facture:</label>
                    <input type="date" th:field="*{dateFacture}" required />
                </div>

                <div class="form-group">
                    <label>Date Ã‰chÃ©ance:</label>
                    <input type="date" th:field="*{dateEcheance}" required />
                </div>

                <div class="form-group">
                    <label>Montant HT:</label>
                    <input type="number" th:field="*{montantHt}" step="0.01" required />
                </div>

                <div class="form-group">
                    <label>Montant TTC:</label>
                    <input type="number" th:field="*{montantTtc}" step="0.01" required />
                </div>

                <div class="actions">
                    <button type="submit" class="btn btn-primary">ðŸ’¾ CrÃ©er (avec 3-way match)</button>
                    <a th:href="@{/achats/factures}" class="btn">Annuler</a>
                </div>
            </form>
        </div>
    </main>
</body>

</html>