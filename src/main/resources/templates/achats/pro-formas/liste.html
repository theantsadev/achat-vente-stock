<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::title}, ~{::main})}">

<head>
    <title>Pro-formas</title>
</head>

<body>
    <main>
        <div class="container">
            <h1>ðŸ“‹ Gestion Pro-formas</h1>

            <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
            <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

            <div class="card">
                <table>
                    <thead>
                        <tr>
                            <th>NÂ° Pro-forma</th>
                            <th>DA</th>
                            <th>Fournisseur</th>
                            <th>Montant HT</th>
                            <th>Statut</th>
                            <th>CrÃ©Ã©e le</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="pf : ${proformas}">
                            <td th:text="${pf.numero}">PF001</td>
                            <td th:text="${pf.demandeAchat?.numero}">DA001</td>
                            <td th:text="${pf.fournisseur?.raisonSociale}">-</td>
                            <td th:text="${#numbers.formatDecimal(pf.montantTotalHt, 1, 2, 'COMMA')}">-</td>
                            <td>
                                <span th:if="${pf.statut == 'BROUILLON'}" class="badge badge-info">Brouillon</span>
                                <span th:if="${pf.statut == 'ACCEPTE'}" class="badge badge-success">AcceptÃ©e</span>
                                <span th:if="${pf.statut == 'REJETEE'}" class="badge badge-danger">RejetÃ©e</span>
                                <span th:if="${pf.statut == 'TRANSFORMEE_EN_BC'}" class="badge badge-primary">â†’
                                    BC</span>
                            </td>
                            <td th:text="${#temporals.format(pf.dateCreation, 'dd/MM/yyyy HH:mm')}">-</td>
                            <td>
                                <a th:href="@{/achats/pro-formas/{id}(id=${pf.id})}"
                                    class="btn btn-sm btn-info">Voir</a>
                                <a th:href="@{/achats/pro-formas/{id}/editer(id=${pf.id})}"
                                    class="btn btn-sm btn-warning">Ã‰diter</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>
</body>

</html>