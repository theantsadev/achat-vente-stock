=================================================================
ENDPOINTS DU MODULE ACHAT - Demande Achat
=================================================================

BASE URL: /achats/demandes

1. LISTER LES DEMANDES D'ACHAT
   Méthode: GET
   URL: /achats/demandes
   Description: Affiche la liste de toutes les demandes d'achat
   Réponse: Vue "achats/demandes/liste"

2. FORMULAIRE CRÉATION DA
   Méthode: GET
   URL: /achats/demandes/nouveau
   Description: Affiche le formulaire de création d'une nouvelle demande d'achat
   Paramètres: Aucun
   Réponse: Vue "achats/demandes/formulaire"
   Données chargées: articles, fournisseurs, services

3. CRÉER DEMANDE D'ACHAT
   Méthode: POST
   URL: /achats/demandes
   Description: Crée une nouvelle demande d'achat avec lignes
   Paramètres POST:
      - demande: Objet DemandeAchat
      - articleIds: List<Long> (IDs des articles)
      - quantites: List<BigDecimal> (quantités par article)
      - prix: List<BigDecimal> (prix estimés HT)
   Réponse: Redirection vers /achats/demandes/{id}

4. DÉTAIL DEMANDE D'ACHAT
   Méthode: GET
   URL: /achats/demandes/{id}
   Description: Affiche le détail d'une demande d'achat avec validations
   Paramètres: id (Long) - ID de la demande
   Réponse: Vue "achats/demandes/detail"
   Données affichées: demande, lignes, validations, utilisateurs

5. SOUMETTRE DA POUR APPROBATION
   Méthode: POST
   URL: /achats/demandes/{id}/soumettre
   Description: Soumet une demande d'achat pour approbation
   Paramètres: id (Long) - ID de la demande
   Réponse: Redirection vers /achats/demandes/{id}

6. VALIDER/APPROUVER DA
   Méthode: POST
   URL: /achats/demandes/{id}/valider
   Description: Valide ou approuve une demande d'achat
   Paramètres POST:
      - id (PathVariable): ID de la demande
      - valideurId: ID de l'utilisateur valideur
      - niveau: Niveau de validation (Integer)
      - decision: Décision (String: APPROUVÉE, REJETÉE, etc.)
      - commentaire: Commentaire optionnel (String)
   Réponse: Redirection vers /achats/demandes/{id}

7. FORMULAIRE ÉDITION DA
   Méthode: GET
   URL: /achats/demandes/{id}/editer
   Description: Affiche le formulaire pour éditer une demande d'achat
   Paramètres: id (Long) - ID de la demande
   Réponse: Vue "achats/demandes/formulaire"

8. MODIFIER DEMANDE D'ACHAT
   Méthode: POST
   URL: /achats/demandes/{id}
   Description: Modifie une demande d'achat existante
   Paramètres:
      - id (PathVariable): ID de la demande
      - demande: Objet DemandeAchat modifié
   Réponse: Redirection vers /achats/demandes/{id}

=================================================================
MODÈLES DE DONNÉES
=================================================================

DemandeAchat:
   - id: Long
   - [autres champs selon votre modèle]

LigneDA:
   - article: Article
   - quantite: BigDecimal
   - prixEstimeHt: BigDecimal

ValidationDA:
   - [champs selon votre modèle]

ArticleDTO:
   - id: Long
   - code: String
   - designation: String
   - prixAchatMoyen: BigDecimal

=================================================================
MESSAGES DE SUCCÈS/ERREUR
=================================================================

Success:
   - "Demande d'achat créée avec succès"
   - "Demande soumise pour approbation"
   - "Validation enregistrée"
   - "Demande d'achat modifiée"

Error:
   - Erreur sérialisation JSON
   - Utilisateur non trouvé
   - Article non trouvé
   - Valideur non trouvé
   - Messages d'erreur du service

=================================================================
NOTES
=================================================================

- L'utilisateur est actuellement hardcodé (ID: 1) - À remplacer par Spring Security
- Utilise DTOs pour éviter les problèmes de sérialisation JPA
- Articles sérialisés en JSON pour JavaScript côté client
- Redirections en cas de succès vers la page de détail

=================================================================